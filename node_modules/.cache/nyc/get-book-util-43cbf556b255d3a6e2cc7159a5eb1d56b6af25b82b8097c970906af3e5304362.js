function cov_12bueovqn(){var path="C:\\Users\\linju\\Desktop\\TP Y2S2\\DVOPS\\Assignment\\Part 2\\BookTrack_DevOps_Project\\utils\\get-book-util.js";var hash="95fd103131504d575bc9092b99a4e4f053964c27";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\linju\\Desktop\\TP Y2S2\\DVOPS\\Assignment\\Part 2\\BookTrack_DevOps_Project\\utils\\get-book-util.js",statementMap:{"0":{start:{line:1,column:13},end:{line:1,column:41}},"1":{start:{line:2,column:17},end:{line:2,column:36}},"2":{start:{line:6,column:4},end:{line:20,column:5}},"3":{start:{line:7,column:22},end:{line:7,column:39}},"4":{start:{line:10,column:8},end:{line:12,column:9}},"5":{start:{line:11,column:12},end:{line:11,column:71}},"6":{start:{line:14,column:8},end:{line:14,column:36}},"7":{start:{line:16,column:8},end:{line:16,column:54}},"8":{start:{line:19,column:8},end:{line:19,column:101}},"9":{start:{line:29,column:0},end:{line:29,column:29}}},fnMap:{"0":{name:"getBooks",decl:{start:{line:5,column:15},end:{line:5,column:23}},loc:{start:{line:5,column:34},end:{line:21,column:1}},line:5}},branchMap:{"0":{loc:{start:{line:10,column:8},end:{line:12,column:9}},type:"if",locations:[{start:{line:10,column:8},end:{line:12,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:10}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},f:{"0":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"95fd103131504d575bc9092b99a4e4f053964c27"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_12bueovqn=function(){return actualCoverage;};}return actualCoverage;}cov_12bueovqn();const Book=(cov_12bueovqn().s[0]++,require('../models/book.js'));const mongoose=(cov_12bueovqn().s[1]++,require('mongoose'));// Import mongoose to validate object IDs
// Define an asynchronous function to handle getting books
async function getBooks(req,res){cov_12bueovqn().f[0]++;cov_12bueovqn().s[2]++;try{const books=(cov_12bueovqn().s[3]++,await Book.find());// Fetch all books from the Book model
// Check if no books are found and return a 404 status with a message
cov_12bueovqn().s[4]++;if(books.length===0){cov_12bueovqn().b[0][0]++;cov_12bueovqn().s[5]++;return res.status(404).json({message:'No books found'});}else{cov_12bueovqn().b[0][1]++;}cov_12bueovqn().s[6]++;res.status(200).json(books);// Send the books as a JSON response with 200 status
}catch(error){cov_12bueovqn().s[7]++;console.error('Error fetching books:',error);// Improved error response with status 500 and error message
cov_12bueovqn().s[8]++;res.status(500).json({message:'Server error while fetching books',error:error.message});}}// Export the function to make it available for use in your routes
// Export the searchBooks function to make it available in other parts of the application
// Export the getBooks function to make it available in other parts of the application
cov_12bueovqn().s[9]++;module.exports={getBooks};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTJidWVvdnFuIiwiYWN0dWFsQ292ZXJhZ2UiLCJCb29rIiwicyIsInJlcXVpcmUiLCJtb25nb29zZSIsImdldEJvb2tzIiwicmVxIiwicmVzIiwiZiIsImJvb2tzIiwiZmluZCIsImxlbmd0aCIsImIiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImVycm9yIiwiY29uc29sZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJnZXQtYm9vay11dGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEJvb2sgPSByZXF1aXJlKCcuLi9tb2RlbHMvYm9vay5qcycpO1xyXG5jb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7IC8vIEltcG9ydCBtb25nb29zZSB0byB2YWxpZGF0ZSBvYmplY3QgSURzXHJcblxyXG4vLyBEZWZpbmUgYW4gYXN5bmNocm9ub3VzIGZ1bmN0aW9uIHRvIGhhbmRsZSBnZXR0aW5nIGJvb2tzXHJcbmFzeW5jIGZ1bmN0aW9uIGdldEJvb2tzKHJlcSwgcmVzKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGJvb2tzID0gYXdhaXQgQm9vay5maW5kKCk7IC8vIEZldGNoIGFsbCBib29rcyBmcm9tIHRoZSBCb29rIG1vZGVsXHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIG5vIGJvb2tzIGFyZSBmb3VuZCBhbmQgcmV0dXJuIGEgNDA0IHN0YXR1cyB3aXRoIGEgbWVzc2FnZVxyXG4gICAgICAgIGlmIChib29rcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ05vIGJvb2tzIGZvdW5kJyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGJvb2tzKTsgLy8gU2VuZCB0aGUgYm9va3MgYXMgYSBKU09OIHJlc3BvbnNlIHdpdGggMjAwIHN0YXR1c1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBib29rczonLCBlcnJvcik7XHJcblxyXG4gICAgICAgIC8vIEltcHJvdmVkIGVycm9yIHJlc3BvbnNlIHdpdGggc3RhdHVzIDUwMCBhbmQgZXJyb3IgbWVzc2FnZVxyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ1NlcnZlciBlcnJvciB3aGlsZSBmZXRjaGluZyBib29rcycsIGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbi8vIEV4cG9ydCB0aGUgZnVuY3Rpb24gdG8gbWFrZSBpdCBhdmFpbGFibGUgZm9yIHVzZSBpbiB5b3VyIHJvdXRlc1xyXG5cclxuLy8gRXhwb3J0IHRoZSBzZWFyY2hCb29rcyBmdW5jdGlvbiB0byBtYWtlIGl0IGF2YWlsYWJsZSBpbiBvdGhlciBwYXJ0cyBvZiB0aGUgYXBwbGljYXRpb25cclxuLy8gRXhwb3J0IHRoZSBnZXRCb29rcyBmdW5jdGlvbiB0byBtYWtlIGl0IGF2YWlsYWJsZSBpbiBvdGhlciBwYXJ0cyBvZiB0aGUgYXBwbGljYXRpb25cclxubW9kdWxlLmV4cG9ydHMgPSB7IGdldEJvb2tzfTtcclxuIl0sIm1hcHBpbmdzIjoiNnBEQWVZO0FBQUFBLGFBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsYUFBQSxHQWZaLEtBQU0sQ0FBQUUsSUFBSSxFQUFBRixhQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLG1CQUFtQixDQUFDLEVBQ3pDLEtBQU0sQ0FBQUMsUUFBUSxFQUFBTCxhQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUFFO0FBRXRDO0FBQ0EsY0FBZSxDQUFBRSxRQUFRQSxDQUFDQyxHQUFHLENBQUVDLEdBQUcsQ0FBRSxDQUFBUixhQUFBLEdBQUFTLENBQUEsTUFBQVQsYUFBQSxHQUFBRyxDQUFBLE1BQzlCLEdBQUksQ0FDQSxLQUFNLENBQUFPLEtBQUssRUFBQVYsYUFBQSxHQUFBRyxDQUFBLE1BQUcsS0FBTSxDQUFBRCxJQUFJLENBQUNTLElBQUksQ0FBQyxDQUFDLEVBQUU7QUFFakM7QUFBQVgsYUFBQSxHQUFBRyxDQUFBLE1BQ0EsR0FBSU8sS0FBSyxDQUFDRSxNQUFNLEdBQUssQ0FBQyxDQUFFLENBQUFaLGFBQUEsR0FBQWEsQ0FBQSxTQUFBYixhQUFBLEdBQUFHLENBQUEsTUFDcEIsTUFBTyxDQUFBSyxHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUVDLE9BQU8sQ0FBRSxnQkFBaUIsQ0FBQyxDQUFDLENBQzlELENBQUMsS0FBQWhCLGFBQUEsR0FBQWEsQ0FBQSxVQUFBYixhQUFBLEdBQUFHLENBQUEsTUFFREssR0FBRyxDQUFDTSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ0wsS0FBSyxDQUFDLENBQUU7QUFDakMsQ0FBRSxNQUFPTyxLQUFLLENBQUUsQ0FBQWpCLGFBQUEsR0FBQUcsQ0FBQSxNQUNaZSxPQUFPLENBQUNELEtBQUssQ0FBQyx1QkFBdUIsQ0FBRUEsS0FBSyxDQUFDLENBRTdDO0FBQUFqQixhQUFBLEdBQUFHLENBQUEsTUFDQUssR0FBRyxDQUFDTSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQyxDQUFFQyxPQUFPLENBQUUsbUNBQW1DLENBQUVDLEtBQUssQ0FBRUEsS0FBSyxDQUFDRCxPQUFRLENBQUMsQ0FBQyxDQUNoRyxDQUNKLENBSUE7QUFFQTtBQUNBO0FBQUFoQixhQUFBLEdBQUFHLENBQUEsTUFDQWdCLE1BQU0sQ0FBQ0MsT0FBTyxDQUFHLENBQUVkLFFBQVEsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==